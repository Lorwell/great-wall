import{l as s,u as e,j as a,N as l,O as i,B as n,b3 as r,P as c,Q as t,b4 as d,b5 as o,b6 as x,K as m}from"./index-Hpy4aKqW.js";import{u as j}from"./useApiRequest-CJy0Cr6c.js";import{T as f,t as u}from"./index-yZ-vangy.js";import{S as h}from"./shield-check-DPx6VkPp.js";import{S as p}from"./separator-BBmaR6nc.js";import{d as v}from"./dayjs.min-J9D-uYA7.js";import{L as g}from"./loading-block-ClmQsdh1.js";
/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=s("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function b({type:s,config:d}){const o=e(),x="add"===s?"添加证书":"修改证书";function m(s){o(s,{state:d})}return a.jsxs(l,{children:[a.jsx(i,{asChild:!0,children:a.jsxs(n,{variant:"secondary",className:"w-40",children:[a.jsx(h,{className:"w-6 h-6"}),a.jsx("span",{className:"ml-2",children:x}),a.jsx(r,{className:"ml-2 w-6 h-6"})]})}),a.jsxs(c,{className:"w-40",children:[a.jsx(t,{onClick:()=>m("/manage/tls/custom"),children:"自定义证书"}),a.jsx(t,{onClick:()=>m("/manage/tls/osfipin"),children:"来此加密"})]})]})}function y(){return a.jsx("div",{className:"flex flex-row items-center justify-center border rounded-lg h-80",children:a.jsx("div",{className:"flex flex-col items-center gap-4",children:a.jsx(b,{type:"add"})})})}function w({label:s,value:e,separator:l=!0}){return a.jsxs("div",{className:"w-full flex flex-col",children:[a.jsxs("div",{className:"flex flex-row",children:[a.jsx("div",{className:"w-[300px] text-base font-medium",children:s}),a.jsx("div",{className:"text-sm text-muted-foreground flex-auto",children:e})]}),l&&a.jsx(p,{className:"my-4"})]})}function Y({config:s}){return a.jsxs("div",{children:[a.jsx(w,{label:"证书类型",value:"自定义证书"}),a.jsx(w,{label:"Cert 证书",value:a.jsx(d,{rows:3,children:s.certificate})}),a.jsx(w,{label:"Key 密钥",value:s.privateKey})]})}function k({config:s}){return a.jsxs("div",{children:[a.jsx(w,{label:"证书类型",value:"来此加密"}),a.jsx(w,{label:"账户名",value:s.user}),a.jsx(w,{label:"自动申请id",value:s.autoId}),a.jsx(w,{label:"接口凭证",value:s.token})]})}function D({data:s}){var e,l;return a.jsx("div",{className:"w-[95%] border rounded p-8 pb-4 ml-[2%]",children:a.jsxs("div",{className:"flex flex-col gap-8",children:[a.jsxs("div",{className:"flex flex-row justify-between items-center",children:[a.jsx("div",{className:"text-xl font-bold",children:"证书详情"}),a.jsxs("div",{className:"flex flex-row items-center gap-2",children:[a.jsx(b,{type:"update",config:s.config}),a.jsxs(n,{variant:"secondary",className:"w-32",onClick:function(){o("tls.zip","/api/tls/download")},children:[a.jsx(N,{className:"w-6 h-6"}),a.jsx("span",{className:"ml-2",children:"下载证书"})]})]})]}),a.jsxs("div",{children:[(null==(e=s.config)?void 0:e.type)===f.Custom&&a.jsx(Y,{config:s.config}),(null==(l=s.config)?void 0:l.type)===f.Osfipin&&a.jsx(k,{config:s.config}),a.jsx(w,{label:a.jsx(H,{}),value:s.expiredTime?v(s.expiredTime).format("YYYY-MM-DD HH:mm:ss"):"-"}),a.jsx(w,{label:"创建时间",value:v(s.createTime).format("YYYY-MM-DD HH:mm:ss")}),a.jsx(w,{label:"最后修改时间",value:v(s.lastUpdateTime).format("YYYY-MM-DD HH:mm:ss"),separator:!1})]})]})})}function H(){return a.jsxs("div",{className:"flex flex-row items-center gap-2",children:[a.jsx("span",{children:"过期时间"}),a.jsx(x,{children:"过期时间如果为空，将导致无法自动更新证书"})]})}function M(){const{data:s,loading:e}=j(u);return a.jsx("div",{className:"w-full h-full",children:a.jsxs(g,{loading:e,children:[m(s)&&a.jsx(y,{}),!m(s)&&a.jsx(D,{data:s})]})})}export{M as default};
